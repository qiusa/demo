webpackJsonp([1],{148:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){return{type:f}}function r(){return function(e,t){if(!t().zen.fetching)return e(l()),fetch("https://api.github.com/zen").then(function(e){return e.text()}).then(function(t){return e(p(t))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.clearZen=t.receiveZen=void 0;var s,c=a(74),i=n(c),u=a(95),d=n(u);t.fetchZen=r,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments[1],a=b[t.type];return a?a(e,t):e};var o="RECEIVE_ZEN",f="REQUEST_ZEN",m="CLEAR_ZEN",v=0,p=t.receiveZen=function(e){return{type:o,payload:{text:e,id:v++}}},h=t.clearZen=function(){return{type:m}},b=(t.actions={requestZen:l,receiveZen:p,clearZen:h,fetchZen:r},s={},(0,i.default)(s,f,function(e){return(0,d.default)({},e,{fetching:!0})}),(0,i.default)(s,o,function(e,t){return(0,d.default)({},e,{fetching:!1,text:e.text.concat(t.payload)})}),(0,i.default)(s,m,function(e){return(0,d.default)({},e,{text:[]})}),s),N={fetching:!1,text:[]}},246:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(151),r=n(l),s=a(41),c=n(s),i=a(42),u=n(i),d=a(43),o=n(d),f=a(45),m=n(f),v=a(44),p=n(v),h=a(8),b=n(h);a(322);var N=a(94),E=n(N),y=a(93),g=n(y),k=a(445),w=(n(k),function(e){function t(){var e,a,n,l;(0,u.default)(this,t);for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return a=n=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(s))),n.state={index:1,sendValue:"",enter:{roomid:"",pushUrl:""},sendStatus:!0},l=a,(0,m.default)(n,l)}return(0,p.default)(t,e),(0,o.default)(t,[{key:"nav",value:function(e){this.setState({index:e,sendValue:""})}},{key:"valiate",value:function(e){this.state.sendStatus||(this.setState({sendStatus:!0}),this.doLogin(e))}},{key:"enterPlay",value:function(e){if(!this.state.sendStatus){if(!E.default.trim(this.state.sendValue))return void alert("输入框不能为空");var t={};if(1===this.state.index){t.roomid=E.default.trim(this.state.sendValue);var a=/^[0-9]*$/;if(!a.test(t.roomid))return void alert("房间号不存在")}else t.pushUrl=E.default.trim(this.state.sendValue);this.valiate(t)}}},{key:"doLogin",value:function(e){var t={};$.ajax({url:g.default.tourist,contentType:"application/x-www-form-urlencoded",type:"POST",data:t}).done(function(t){200===t.code?(E.default.setCookie("vAccount",t.ret.username),E.default.setCookie("sid",t.ret.sid),E.default.setCookie("vToken",t.ret.token),this.getRoomEnter(t.ret.sid,e)):(alert(t.msg),this.setState({sendStatus:!1}))}.bind(this)).fail(function(e){console.error("获取数据失败，请刷新重试！"),this.setState({sendStatus:!1})}.bind(this))}},{key:"getRoomEnter",value:function(e,t){t.sid=e,t.needRoomAddress=!0,$.ajax({url:g.default.enter,contentType:"application/x-www-form-urlencoded",type:"POST",data:t}).done(function(t){console.info("dtata",t),200===t.code?(E.default.setCookie("sid",e),E.default.setCookie("status",t.ret.status),E.default.setCookie("valid",t.ret.valid),E.default.setCookie("hlsPullUrl",t.ret.hlsPullUrl),E.default.setCookie("isTourist",!0),t.ret.addr&&t.ret.addr[0]&&E.default.setCookie("addr",(0,r.default)(t.ret.addr)),window.location.href="/?back="+(new Date).getTime()+"&roomid="+t.ret.roomid):1===this.state.index?501===t.code?alert("直播已结束"):alert("房间号不存在"):501===t.code?alert("直播已结束"):alert("拉流地址不存在"),this.setState({sendStatus:!1})}.bind(this)).fail(function(e){console.error("获取数据失败，请刷新重试！"),this.setState({sendStatus:!1})}.bind(this))}},{key:"handleChange",value:function(e){this.setState({sendValue:e.target.value}),this.setState({sendStatus:!e.target.value})}},{key:"inputBlur",value:function(){this.interval&&clearInterval(this.interval)}},{key:"focusInput",value:function(){this.interval=setInterval(function(){document.body.scrollTop=document.body.scrollHeight},100)}},{key:"render",value:function(){return b.default.createElement("div",null,E.default.isWeixin()?b.default.createElement("div",{className:"m-bg"},b.default.createElement("div",{className:"wx"},b.default.createElement("p",{className:"text"},"选择在",E.default.isIos()?"Safair":"浏览器","中打开"))):b.default.createElement("div",{className:"m-nav"},b.default.createElement("div",{className:"title"},b.default.createElement("span",{className:"logo"}),b.default.createElement("span",{className:"text"},"视频直播观众端")),b.default.createElement("ul",{className:"nav-list"},b.default.createElement("li",{className:1===this.state.index?"cur":"",onClick:this.nav.bind(this,1)},"房间号观看",b.default.createElement("span",{className:"line"})),b.default.createElement("li",{className:2===this.state.index?"cur":"",onClick:this.nav.bind(this,2)},"拉流地址",b.default.createElement("span",{className:"line"}))),b.default.createElement("div",{className:"box"},b.default.createElement("input",{type:1===this.state.index?"tel":"text",className:"text-input mt10",placeholder:1===this.state.index?"请输入房间号":"请输入拉流地址",value:this.state.sendValue,onChange:this.handleChange.bind(this)}),b.default.createElement("span",{href:"javascript:",className:this.state.sendStatus?"btn mt10 disabled-btn":"btn mt10",onClick:this.enterPlay.bind(this)},"进入直播"))))}}]),t}(h.Component));t.default=w,w.propTypes={zen:b.default.PropTypes.object.isRequired}},247:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(133),r=a(148),s=a(246),c=n(s),i={fetchZen:r.fetchZen,clearZen:r.clearZen},u=function(e){return{zen:e.zen}};t.default=(0,l.connect)(u,i)(c.default)},258:function(e,t,a){var n,l;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n))e.push(a.apply(null,n));else if("object"===l)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=a:(n=[],l=function(){return a}.apply(t,n),!(void 0!==l&&(e.exports=l)))}()},307:318,308:318,309:318,310:318,311:318,312:318,313:318,314:318,315:318,316:318,317:318,322:318,445:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(8),o=n(d),f=a(258),m=n(f),v=a(6),p=n(v);a(311),a(307),a(308),a(309),a(310),a(312),a(313),a(314),a(315),a(316),a(317);var h=function(e){function t(e){r(this,t);var a=s(this,Object.getPrototypeOf(t).call(this,e));return a.displayName="SpinKit",a}return c(t,e),u(t,[{key:"render",value:function(){var e,t=(0,m.default)((e={"fade-in":!this.props.noFadeIn,spinner:""===this.props.overrideSpinnerClassName},l(e,this.props.overrideSpinnerClassName,!!this.props.overrideSpinnerClassName),l(e,this.props.className,!!this.props.className),e)),a=(0,p.default)({},this.props);delete a.spinnerName,delete a.noFadeIn,delete a.overrideSpinnerClassName,delete a.className;var n=void 0;switch(this.props.spinnerName){case"double-bounce":n=o.default.createElement("div",i({},a,{className:"double-bounce "+t}),o.default.createElement("div",{className:"double-bounce1"}),o.default.createElement("div",{className:"double-bounce2"}));break;case"rotating-plane":n=o.default.createElement("div",i({},a,{className:t}),o.default.createElement("div",{className:"rotating-plane"}));break;case"wave":n=o.default.createElement("div",i({},a,{className:"wave "+t}),o.default.createElement("div",{className:"rect1"}),o.default.createElement("div",{className:"rect2"}),o.default.createElement("div",{className:"rect3"}),o.default.createElement("div",{className:"rect4"}),o.default.createElement("div",{className:"rect5"}));break;case"wandering-cubes":n=o.default.createElement("div",i({},a,{className:"wandering-cubes "+t}),o.default.createElement("div",{className:"cube1"}),o.default.createElement("div",{className:"cube2"}));break;case"pulse":n=o.default.createElement("div",i({},a,{className:t}),o.default.createElement("div",{className:"pulse"}));break;case"chasing-dots":n=o.default.createElement("div",i({},a,{className:t}),o.default.createElement("div",{className:"chasing-dots"},o.default.createElement("div",{className:"dot1"}),o.default.createElement("div",{className:"dot2"})));break;case"circle":n=o.default.createElement("div",i({},a,{className:"circle-wrapper "+t}),o.default.createElement("div",{className:"circle1 circle"}),o.default.createElement("div",{className:"circle2 circle"}),o.default.createElement("div",{className:"circle3 circle"}),o.default.createElement("div",{className:"circle4 circle"}),o.default.createElement("div",{className:"circle5 circle"}),o.default.createElement("div",{className:"circle6 circle"}),o.default.createElement("div",{className:"circle7 circle"}),o.default.createElement("div",{className:"circle8 circle"}),o.default.createElement("div",{className:"circle9 circle"}),o.default.createElement("div",{className:"circle10 circle"}),o.default.createElement("div",{className:"circle11 circle"}),o.default.createElement("div",{className:"circle12 circle"}));break;case"cube-grid":n=o.default.createElement("div",i({},a,{className:"cube-grid "+t}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}),o.default.createElement("div",{className:"cube"}));break;case"wordpress":n=o.default.createElement("div",i({},a,{className:t}),o.default.createElement("div",{className:"wordpress"},o.default.createElement("div",{className:"inner-circle"})));break;case"three-bounce":default:n=o.default.createElement("div",i({},a,{className:"three-bounce "+t}),o.default.createElement("div",{className:"bounce1"}),o.default.createElement("div",{className:"bounce2"}),o.default.createElement("div",{className:"bounce3"}))}return n}}]),t}(o.default.Component);h.propTypes={spinnerName:o.default.PropTypes.string.isRequired,noFadeIn:o.default.PropTypes.bool,overrideSpinnerClassName:o.default.PropTypes.string,className:o.default.PropTypes.string},h.defaultProps={spinnerName:"three-bounce",noFadeIn:!1,overrideSpinnerClassName:""},e.exports=h}});